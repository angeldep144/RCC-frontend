<div class="product">
    <div class = "productImageContainer">
		<img class = "productImage" src = {{product.imageUrl}}>
		
		<img *ngIf = "product.salePrice" class = "saleRibbon" src = "assets/img/saleRibbon.png">
	</div>
	
	<div class = "productInfo flexColumn smallGap">
		<p class = "extraLargeFont">{{ this.product.name }}</p>
		
		<div class = "flex smallGap">
			<p class = "mediumFont">${{ this.product.salePrice ? this.product.salePrice : this.product.price }}</p>
			
			<p *ngIf = "product.salePrice" class = "oldPrice mediumFont">${{ this.product.price }}</p>
		</div>
		
		<div class = "flex">
			<p class = "productDescription smallFont">{{ this.product.description }}</p>
		</div>
		
		<div class= "cart-container">
            <div *ngIf = "inCart; then trueBlock else falseBlock"></div>
			
			<ng-template #trueBlock>
				<button id = "goToCartBtn" type = "button" routerLink = "/cart">Go to Cart</button>
				
				<div *ngIf = "cartMessage" id = "cartMessage">Added to cart</div>
			</ng-template>
			
			<ng-template #falseBlock>
				<!-- todo max might need to be less than stock -->
				<input type = "number" id = "quantity" name = "quantityInput" min = "1" max = "{{ this.product.stock }}" [(ngModel)] = "quantityInput" (input) = "onQuantityInput ($event);">
				
				<button id = "addToCartBtn" type = "button" (click) = "addToCart (quantityInput);">Add to cart</button>

				<button *ngIf= "this.userRole == 'ADMIN'" id ="edit-btn" type="button" (click)="editProduct (this.product.id)">Edit Product</button>
			</ng-template>
        </div>
	</div>
</div>